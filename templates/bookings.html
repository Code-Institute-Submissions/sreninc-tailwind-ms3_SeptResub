{% extends "base-app.html" %}
{% set last = bookings|last %}
{% set first = bookings|first %}

{% block content %}

<div class="flex flex-column">
    <div class="mb-5 w-48 mx-4">
    <label for="filterDate" class="block text-sm font-medium text-gray-700">Date</label>
    <div class="mt-1">
        <input type="date" name="filterDate" id="filterDate" value="{{ date }}" class="shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md" onchange="filterBookings()">
    </div>
    </div>
    <div class="mb-5 w-48 mx-4">
    <label for="filterStatus" class="block text-sm font-medium text-gray-700">Status</label>
    <select id="filterStatus" name="filterStatus" class="shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md" onchange="filterBookings()">
        <option value="all" {{ 'selected' if status=="all" else '' }}>All Bookings</option>
        <option value="completed" {{ 'selected' if status=="completed" else '' }}>Completed</option>
        <option value="confirmed" {{ 'selected' if status=="confirmed" else '' }}>Confirmed</option>
        <option value="reserved" {{ 'selected' if status=="reserved" else '' }}>Reserved</option>
        <option value="waitlist" {{ 'selected' if status=="waitlist" else '' }}>Waitlist</option>
    </select>
    </div>
</div>

<!-- This example requires Tailwind CSS v2.0+ -->
<div class="flex flex-col">
  <div class="-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8">
    <div class="py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8">
      <div class="shadow overflow-hidden border-b border-gray-200 sm:rounded-lg">
        <table class="min-w-full divide-y divide-gray-200">
          <thead class="bg-green-900">
            <tr>
              <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider">
                Date
              </th>
              <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider">
                Time
              </th>
              <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider">
                Guest
              </th>
              <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider">
                People
              </th>
              <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider">
                Status
              </th>
              <th scope="col" class="relative px-6 py-3">
                <span class="sr-only">Edit</span>
              </th>
            </tr>
          </thead>
          <tbody>
            {% for booking in bookings %}
                <tr class="bg-white">
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">
                    {{ booking.written_date }}
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">
                    {{ booking.time }}
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">
                    {{ booking.full_name }}
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">
                    {{ booking.people }}
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">
                    {{ booking.status.capitalize() }}
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                    <a href="#" class="text-indigo-600 hover:text-indigo-900">Edit</a>
                </td>
                </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

{% endblock content %}